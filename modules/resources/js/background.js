/** * Created by Charles on 15/02/14. */var ogameResources;var timer;//got a message from content scriptchrome.extension.onRequest.addListener(    function(request, sender, sendResponse) {        ogameResources=request;        clearTimeout(timer);        (function() {timer=setTimeout(refreshData, 1000);})();    });function refreshData(){    $.each(ogameResources,function(key, value){        value.quantite += value.production;    });    (function() {timer=setTimeout(refreshData, 1000);})();}